## Git分支操作

#### 1.添加SSH关联授权

使用 SSH 的好处主要有两点：

- 免密码推送，执行 `git push` 时不再需要输入用户名和密码了；
- 提高数据传输速度。

1. 终端执行 `ssh-keygen` 命令按几次回车生成公私钥。

2. 公私钥存放在家目录下的隐藏目录 `.ssh` 中的两个文件中 

   ```
   $tree ~/.ssh
   ```

3. 将 `~/.ssh/id_rsa.pub` 文件中的公钥内容复制出来

4. 然后在 GitHub 网页上添加公钥 

5. 在实验环境里删除原仓库，使用此链接重新克隆仓库。 

   **重要的一点：只有使用这种 git 开头的地址克隆仓库，SSH 关联才会起作用。** 

#### 2.为 Git 命令设置别名

 `git config --global alias.[别名] [原命令]`，如果原命令中有选项，要加引号。 

举例：

```
git config --global alias.br 'branch -avv'
```

可以使用 `git config -l` 命令查看配置文件。 

#### 3.Git 分支管理

###### 3.1 git fetch 刷新本地分支信息

- 它的作用是将远程仓库的分支信息拉取到本地仓库，**仅是更新了本地的远程分支信息 。**
- `fetch` 命令的作用是刷新保存在本地仓库的远程分支信息，此命令需要联网。此时若想使本地 master 分支的提交版本为最新，可以执行 `git pull` 命令来拉取远程分支到本地，`pull` 是拉取远程仓库的数据到本地，需要联网，而由于前面执行过 `git fetch` 命令，所以也可以执行 `git rebase origin/master` 命令来实现 “使本地 master 分支基于远程仓库的 master 分支”。

###### 3.2 创建新的本地分支

-  `git branch [分支名]` 可以创建新的分支 ；
- `git checkout [分支名]` 切换分支 ；
-  `git checkout -b [分支名]` 创建分支并切换到新分支 ；

###### 3.3 将新分支中的提交推送至远程仓库

正常逻辑当然要推送到远程仓库的同名分支 

`git push [主机名] [本地分支名]:[远程分支名]` 将本地分支推送到远程仓库的分支中，通常冒号前后的分支名是相同的，如果是相同的，可以省略 `:[远程分支名]`，如果远程分支不存在，会自动创建： 

###### 3.4 本地分支跟踪远程分支

- 先将本地分支推送到远程仓库，使远程仓库创建新分支，然后再执行命令使本地分支跟踪远程分支 :

`git branch -u [主机名/远程分支名] [本地分支名]` 将本地分支与远程分支关联，或者说使本地分支跟踪远程分支。如果是设置当前所在分支跟踪远程分支，最后一个参数本地分支名可以省略不写，举例：

```
git branch -u origin/dev dev
```

`git branch --unset-upstream [分支名]` 即可撤销该分支对远程分支的跟踪，同样地，如果撤销当前所在的分支的跟踪，分支名可以省略不写.

- 推送时就自动跟踪远程分支 :

  ```
  git push -u origin dev
  ```

###### 3.5 删除远程分支

-  第一种：`git push [主机名] :[远程分支名]` ，删除多个：`git push [主机名] :[远程分支名] :[远程分支名] :[远程分支名]` 。此命令的原理是将空分支推送到远程分支，结果自然就是远程分支被删除。
- 第二种：`git push [主机名] --delete [远程分支名]`。

###### 3.6 本地分支的更名与删除

- 给本地分支改名 `git branch -m [原分支名] [新分支名]` ，若修改当前所在分支的名字，原分支名可以省略不写 。

- `git branch -D [分支名]` 删除本地分支，同样地，此命令也可以一次删除多个，将需要删除的分支名罗列在命令后面即可。 举例：

  ```
  git branch -D dev dev1
  ```

## 多人协作Github

1. 在组长账户里创建一个仓库名为 work，在创建仓库时，需要说明第一节中提到的两个下拉框。
2. 在组长账号中增加该仓库的合作者，也就是组员 
3. 克隆组长的仓库到组员的账号中，完成后自动跳转到组员的仓库页面 
4. 切换到组长的 GitHub 页面，在仓库中添加一些项目任务或待解决问题，这些任务就是 issue。
5. 写好任务标题后，可以在右侧指派一位或多位项目参与者来完成，同样 GitHub 也会给被指派者发邮件的 。

## 代码截图:

https://github.com/inspurcloudgroup/icprd1/blob/master/%E8%AE%B8%E6%AC%A2/0528.docx
