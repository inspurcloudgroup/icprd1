# Python基础

## Python日期和时间

Python 提供了一个 time 和 calendar 模块可以用于格式化日期和时间 。

时间间隔是以秒为单位的浮点小数。

每个时间戳都以自从1970年1月1日午夜（历元）经过了多长时间来表示。

Python 的 time 模块下有很多函数可以转换常见日期格式。如函数time.time()用于获取当前时间戳。

### 1、时间元祖

python常使用一个元祖装起来的9组数字来处理时间：

|     字段       |    值                                  |
| ------------ | ------------------------------------ |
| 4位数年      | 2008                                 |
| 月           | 1 到 12                              |
| 日           | 1到31                                |
| 小时         | 0到23                                |
| 分钟         | 0到59                                |
| 秒           | 0到61 (60或61 是闰秒)                |
| 一周的第几日 | 0到6 (0是周一)                       |
| 一年的第几日 | 1到366 (儒略历)                      |
| 夏令时       | -1, 0, 1, -1是决定是否为夏令时的旗帜 |

### 2、获取当前时间

从返回浮点数的时间戳方式向时间元组转换，只要将浮点数传递给如localtime之类的函数。 

```localtime = time.localtime(time.time()) print "本地时间为 :", localtime 
localtime = time.localtime(time.time())
print "本地时间为 :", localtime
本地时间为 : time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=10, tm_min=3, tm_sec=27, tm_wday=3, tm_yday=98, tm_isdst=0)
```

### 3、获取格式化的时间

```
localtime = time.asctime( time.localtime(time.time()) )
print "本地时间为 :", localtime
本地时间为 : Thu Apr  7 10:05:21 2016
```

### 4、格式化日期

```
import time
 
# 格式化成2016-03-20 11:45:39形式
print time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()) # %y表示两位数年份，%l表示12小时制
 
# 格式化成Sat Mar 28 22:24:24 2016形式
print time.strftime("%a %b %d %H:%M:%S %Y", time.localtime()) # %A完整星期名称，%B完整月份名称
  
# 将格式字符串转换为时间戳
a = "Sat Mar 28 22:24:24 2016"
print time.mktime(time.strptime(a,"%a %b %d %H:%M:%S %Y"))
```

### 5、time模块几个内置函数

|     函数     |    描述                                  |
| ------------ | ------------------------------------ |
|time.clock( ) | 用以浮点数计算的秒数返回当前的CPU时间。用来衡量不同程序的耗时|
|time.sleep(secs)| 推迟调用线程的运行，secs指秒数 |

## python函数

### 1、定义函数

- 函数代码块以 **def** 关键词开头，后接函数标识符名称和圆括号**()**。
- 任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。
- 函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。
- 函数内容以冒号起始，并且缩进。
- **return [表达式]** 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。

### 2、参数传递

- **不可变类型：**类似 c++ 的值传递，如 整数、字符串、元组。如fun（a），传递的只是a的值，没有影响a对象本身。比如在 fun（a）内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。
> 传递的是不可变对象

- **可变类型：**类似 c++ 的引用传递，如 列表，字典。如 fun（la），则是将 la 真正的传过去，修改后fun外部的la也会受影响
> 传递的是可变对象

注意函数内变量的作用域

#### 参数类型

- 必备参数：须以正确的顺序传入函数。调用时的数量必须和声明时的一样 
- 关键字参数：允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值 ，调用时指明 参数名=值
- 默认参数：默认参数的值如果没有传入，则被认为是默认值（定义函数时给定的）
- 不定长参数：可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，，声明时不会命名，函数定义时变量前加`*`

### 3、匿名函数

使用 lambda 来创建匿名函数：

- lambda只是一个表达式，函数体比def简单很多。
- lambda的主体是一个表达式，而不是一个代码块。仅仅能在lambda表达式中封装有限的逻辑进去。
- lambda函数拥有自己的命名空间，且不能访问自有参数列表之外或全局命名空间里的参数。
- 虽然lambda函数看起来只能写一行，却不等同于C或C++的内联函数，后者的目的是调用小函数时不占用栈内存从而增加运行效率。

#### 语法

```
lambda [arg1 [,arg2,.....argn]]:expression
```

```
sum = lambda arg1, arg2: arg1 + arg2;
 
# 调用sum函数
print "相加后的值为 : ", sum( 10, 20 )

相加后的值为 :  30
```

## Python模块

Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python语句。 

模块能定义函数，类和变量，模块里也能包含可执行的代码。 

### 1、模块引入

#### import

若模块在当前搜索路径即被导入

语法：`import module1[, module2[,... moduleN]]`

调用模块中的函数时：`模块名.函数名`

对于搜索路径的顺序：

- 1、当前目录
- 2、如果不在当前目录，Python 则搜索在 shell 变量 PYTHONPATH 下的每个目录。
- 3、如果都找不到，Python会察看默认路径。UNIX下，默认路径一般为/usr/local/lib/python/。

模块搜索路径存储在 system 模块的 sys.path 变量中。变量里包含当前目录，PYTHONPATH和由安装过程决定的默认目录。

#### from...import...

从模块中导入一个指定的部分到当前命名空间中 

语法：`from modname import name1[, name2[, ... nameN]]`

#### from...import *

导入一个模块中的所有项目 

语法：`from modname import *`

### 2、命名空间和作用域

参照变量的命名空间和作用域。

变量是拥有匹配对象的名字（标识符）。命名空间是一个包含了变量名称们（键）和它们各自相应的对象们（值）的字典。 

python假设任何在函数内赋值的变量都是局部的，如果要给函数内的全局变量赋值，必须使用 global 语句。 

### 3、python中的包

包是一个分层次的文件目录结构，它定义了一个由模块及子包，和子包下的子包等组成的 Python 的应用环境。

简单来说，包就是文件夹，但该文件夹下必须存在` __init__.py` 文件, 该文件的内容可以为空。`__init__.py` 用于标识当前文件夹是一个包。

