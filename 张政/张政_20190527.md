# “Linux 基础入门（新版）”实验报告
##  用户及文件权限管理（上）
***
***
***
##  文件权限
文件权限就是文件的访问控制权限，即哪些用户和组群可以访问文件以及可以执行什么样的操作。

Unix/Linux系统是一个典型的多用户系统，不同的用户处于不同的地位，对文件和目录有不同的访问权限。为了保护系统的安全性，Unix/Linux系统除了对用户权限作了严格的界定外，还在用户身份认证、访问控制、传输安全、文件读写权限等方面作了周密的控制。

在 Unix/Linux中的每一个文件或目录都包含有访问权限，这些访问权限决定了谁能访问和如何访问这些文件和目录。

### 查看文件权限

    $ ls -l
    
![查看文件权限](https://dn-simplecloud.shiyanlou.com/courses/uid1080185-20190530-1559223967646)

**第一个字段表示文件属性：**
文件属性字段总共有10个字母组成；第一个字符代表文件的类型。

>+ 字母“-”表示该文件是一个普通文件
>+ 字母“d”表示该文件是一个目录，字母"d"，是dirtectory(目录)的缩写。注意：目录或者是特殊文件，这个特殊文件存放其他文件或目录的相关信息
>+ 字母“l”表示该文件是一个链接文件。字母"l"是link(链接)的缩写，类似于windows下的快捷方式
>+ 字母“b”的表示块设备文件(block)，一般置于/dev目录下，设备文件是普通文件和程序访问硬件设备的入口，是很特殊的文件。没有文件大小，只有一个主设备号和一个辅设备号。一次传输数据为一整块的被称为块设备，如硬盘、光盘等。最小数据传输单位为一个数据块(通常一个数据块的大小为512字节)
>+ 字母为“c”表示该文件是一个字符设备文件(character)，一般置于/dev目录下，一次传输一个字节的设备被称为字符设备，如键盘、字符终端等，传输数据的最小单位为一个字节。
>+ 字母为“p”表示该文件为命令管道文件。与shell编程有关的文件。
>+ 字母“s”表示该文件为sock文件。与shell编程有关的文件。

第1字符的后面9个字母表示该文件或目录的权限位。

r表是读 (Read) 、w表示写 (Write) 、x表示执行 (eXecute)

其中前三个表示文件拥有者的权限，中间三个表示文件所属组拥有的权限，最后三个表示其他用户拥有的权限。

**第二个字段表示链接数：**

链接到该文件所在的 inode 结点的文件名数目。

**第三、四字段分别表示分件所有者及所属用户组**

**第五个字段表示文件大小：**

以 inode 结点大小为单位来表示的文件大小，你可以给 ls 加上 -lh 参数来更直观的查看文件的大小。

**第六、七、八字段共同表示最后修改日期，月日年。**

**第九个字段表示文件名。**

>**注意：**如果是一个符号链接，那么会有一个 “->" 箭头符号，后面根一个它指向的文件名。

其他参数：

+ -A 显示除了 .（当前目录）和 ..（上一级目录）之外的所有文件，包括隐藏文件（Linux 下以 . 开头的文件为隐藏文件）。
+ -dl 查看某一个目录的完整属性，而不是显示目录里面的文件属性
+ -AsSh 显示所有文件大小。s为显示文件大小，S为按文件大小排序，h可以改变文件大小显示方式

### 变更文件所有者

    $ sudo chown username filename

### 修改文件权限
使用 *chmod* 命令

**方式一：二进制数字表示**

1. r(Read，读取，权限值为4)：对文件而言，具有读取文件内容的权限；对目录来说，具有浏览目 录的权限。
2. w(Write,写入，权限值为2)：对文件而言，具有新增、修改文件内容的权限；对目录来说，具有删除、移动目录内文件的权限。
3. x(eXecute，执行，权限值为1)：对文件而言，具有执行文件的权限；对目录了来说该用户具有进入目录的权限。

+ rwx 7 
+ rw- 6 
+ r-x 5 
+ r-- 4 
+ -wx 3 
+ -w- 2 
+ --x 1 
+ --- 0

最高位表示文件所有者权限值，第二位表示群组用户权限，最低位表示其他用户权限。

    $ chmod [000-777] filename

**方式二：加减赋值操作**

    $ chmod ［who］ ［+ | – | =］ ［mode］ 文件名

[who]
+ u 表示“用户（user）”，即文件或目录的所有者。
+ g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。
+ o 表示“其他（others）用户”。
+ a 表示“所有（all）用户”。它是系统默认值。
[+ | - | =]
+ \+ 添加某个权限。
+ – 取消某个权限。
+ = 赋予给定权限并取消其他所有权限（如果有的话）。
[mode]
+ r 可读。
+ w 可写。
+ x 可执行。

**adduser 和 useradd 的区别：**

*useradd* 只创建用户，创建完了用 *passwd* 去设置新用户的密码。*adduser* 会创建用户，创建目录，创建密码（提示你设置），做这一系列的操作。 *useradd*、*userdel* 这类操作更像是一种命令，执行完了就返回。而 *adduser* 更像是一种程序，需要你输入、确定等一系列操作。
